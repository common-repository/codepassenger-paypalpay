		jQuery(document).ready(function($) {			var match_cat = 'ppdp_'			var con = match_cat+'Activetab';			//Color Picker Initialization			$('.wp-color-picker-field').wpColorPicker();			//navigation			$('.group').hide();			var pdActivetab = '';			if (typeof(localStorage) != 'undefined' ) {				pdActivetab = localStorage.getItem(con);			}			if (pdActivetab != '' && $(pdActivetab).length ) {				$(pdActivetab).fadeIn();			} else {				$('.group:first').fadeIn();			}			$('.group .collapsed').each(function(){				$(this).find('input:checked').parent().parent().parent().nextAll().each(				function(){					if ($(this).hasClass('last')) {						$(this).removeClass('hidden');						return false;					}					$(this).filter('.hidden').removeClass('hidden');				});			});			if (pdActivetab != '' && $(pdActivetab + '-tab').length ) {				$(pdActivetab + '-tab').addClass('nav-tab-active');			}			else {				$('.nav-tab-wrapper a:first').addClass('nav-tab-active');			}			$('.nav-tab-wrapper a').click(function(evt) {				$('.nav-tab-wrapper a').removeClass('nav-tab-active');				$(this).addClass('nav-tab-active').blur();				var clicked_group = $(this).attr('href');				if (typeof(localStorage) != 'undefined' ) {					var pdStr = $(this).attr('href');					var Valid = pdStr.match(match_cat);					if(Valid){						localStorage.setItem(con, pdStr);					}				}				$('.group').hide();				$(clicked_group).fadeIn();				evt.preventDefault();			});			//Image upload			var file_frame;			jQuery.fn.uploadMediaFile = function( button, preview_media ) {				var button_id = button.attr('id');				var field_id = button_id.replace( '_button', '' );				var preview_id = button_id.replace( '_button', '_preview' );				// If the media frame already exists, reopen it.				if ( file_frame ) {				  file_frame.open();				  return;				}				// Create the media frame.				file_frame = wp.media.frames.file_frame = wp.media({				  title: jQuery( this ).data( 'uploader_title' ),				  button: {					text: jQuery( this ).data( 'uploader_button_text' ),				  },				  multiple: false				});				// When an image is selected, run a callback.				file_frame.on( 'select', function() {				  attachment = file_frame.state().get('selection').first().toJSON();				  jQuery("#"+field_id).val(attachment.id);				  if( preview_media ) {					jQuery("#"+preview_id).attr('src',attachment.sizes.thumbnail.url);				  }				});				// Finally, open the modal				file_frame.open();			}			jQuery('.image_upload_button').click(function() {				jQuery.fn.uploadMediaFile( jQuery(this), true );			});			jQuery('.image_delete_button').click(function() {				jQuery(this).closest('td').find( '.image_data_field' ).val( '' );				jQuery( '.image_preview' ).remove();				return false;			});									var pdpcob = {				hide:function(id){					$('#'+id).parent().parent().hide();				},				show:function(id){					$('#'+id).parent().parent().show();				},				dpfdef:function(defparam,){					if($('#'+match_cat+'custom_button').prop("checked") == true){						this.show(match_cat+'custom_button_class');					}else{						this.hide(match_cat+'custom_button_class');					}				},				dpost:function(){					if($('#'+match_cat+'posttype_dontation').prop("checked") == true){						this.show(match_cat+'wi_post_type');					}else{						this.hide(match_cat+'wi_post_type');					}				},				pdpchange:function(){					$(document).on('change','#'+match_cat+'custom_button',function(){						pdpcob.dpfdef();					});					$(document).on('change','#'+match_cat+'posttype_dontation',function(){						pdpcob.dpost();					});				},				init:function(){					this.dpfdef();					this.dpost();					this.pdpchange(this);				}			};			pdpcob.init();						$(".pdp-number").keydown(function (e) {				// Allow: backspace, delete, tab, escape, enter and .				if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||					 // Allow: Ctrl+A, Command+A					(e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) || 					 // Allow: home, end, left, right, down, up					(e.keyCode >= 35 && e.keyCode <= 40)) {						 // let it happen, don't do anything						 return;				}				// Ensure that it is a number and stop the keypress				if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {					e.preventDefault();				}			});						$(document).on('click','.pdp_widget_custom_button',function(){				var id = $(this).attr("id");				if($(this).prop("checked") == true){					$('.'+id).show();				}else{					$('.'+id).hide();				}			});			        });